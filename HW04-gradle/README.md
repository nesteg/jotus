# Домашнее задание

##### Условие:
Сравнение разных сборщиков мусора
Написать приложение, которое следит за сборками мусора и пишет в лог количество сборок каждого типа
(young, old) и время которое ушло на сборки в минуту.

Добиться OutOfMemory в этом приложении через медленное подтекание по памяти 
(например добавлять элементы в List и удалять только половину).

Настроить приложение (можно добавлять Thread.sleep(...)) так чтобы оно падало 
с OOM примерно через 5 минут после начала работы.

Собрать статистику (количество сборок, время на сборки) по разным GC.

##### Результаты:
Было проведено несколько запусков приложения с небольшим размером хипа (-Xms256m -Xmx256m) и с увеличенным в 4 раза(-Xms1g -Xmx1g)
для разных вариантов GC (Serial, Parallel, CMS, G1).Параметры GC выбирались VM по умолчанию.Число ядер 4. В приложении используется 
мониторинг работы GC.Некоторые важные параметры оценки работы GC сведены в таблицы.


| GC type  | Young mean/max,ms| Old mean/max,ms  | totalDuration,ms |   Young total,n/ms    |     Old total,n/ms     |
|          |   256m  |   1g   |  256m  |  1g     |  256m  |  1g     |    256m  |    1g      |  256m     |    1g      |
|----------|------------------|------------------|----------------- |-----------------------|------------------------|
| Serial   |  27/71   123/374 | 156/269 514/1246 | 23797    268561  |205/5594    813/100286 | 117/18203   327/168275 |
| Parallel |  57/209  152/774 | 260/855 757/5169 | 47189    494717  |381/21996  1705/260685 |  97/25193   309/234032 |
| CMS      |  42/121  179/616 | 122/425 601/1760 | 17603    519313  |129/5497    637/114093 | 100/12106   674/405220 |
| G1       |  68/421  134/480 | 97/172  429/844  | 32582    406137  |348/23574  2028/271819 |  93/9008    313/134318 |
 

| GC type  | GC Pause Duration Time Range 256m,%| GC Pause Duration Time Range 1g,% | Elapsed Time,ms  | Worker Cycles,n |
|          |     0-100ms    |  100-500ms        |       0-100ms   |   100-500ms     |  256m   |  1g    |   256   |   1g  |
|----------|------------------------------------|=----------------------------------|------------------|-----------------|
| Serial   |     71,7               28,3        |         29,5           58,2       |  42060    478548 |  135       521
| Parallel |     63,7               32,6        |         19,2           68,0       |  66148    727251 |  136       521
| CMS      |     73,4               26,6        |         34,3           37,0       |  29411    754989 |  104       482
| G1       |     76,6               23,4        |         27,9           69,5       |  57841    829048 |  130       521
 

##### Выводы:
  
   Победителем в обоих случаях оказался Serial GC Type, потому что до возникновения исключения OutOfMemoryError он выполнил 
максимальное количество рабочих циклов за меньшее время, чем при других типах GC. Думаю,что при большем количестве ядер показатели
для типов GC, которые используют конкурентность (Parallel,CMS,G1) стали бы лучше.  
